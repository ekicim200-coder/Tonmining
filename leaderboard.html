<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Referral Leaderboard - TON Pro Miner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="leaderboard.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

    <div class="header">
        <div class="bal-box">
            <i class="fas fa-trophy" style="color: #FFD700; margin-right: 10px;"></i>
            <span class="bal-lbl">REFERRAL COMPETITION</span>
        </div>
        <button class="wallet-btn" onclick="goBack()">
            <i class="fas fa-arrow-left"></i> Back
        </button>
    </div>

    <!-- Competition Info Banner -->
    <div class="competition-banner">
        <div class="banner-icon">
            <i class="fas fa-gift fa-3x"></i>
        </div>
        <div class="banner-content">
            <h2>ðŸŽ‰ Referral Competition Active!</h2>
            <p>Invite friends and climb to the top 50 to win amazing prizes!</p>
            <div class="prize-info">
                <div class="prize-item">
                    <span class="prize-medal">ðŸ¥‡</span>
                    <span class="prize-text">1st: 1000 TON</span>
                </div>
                <div class="prize-item">
                    <span class="prize-medal">ðŸ¥ˆ</span>
                    <span class="prize-text">2nd: 500 TON</span>
                </div>
                <div class="prize-item">
                    <span class="prize-medal">ðŸ¥‰</span>
                    <span class="prize-text">3rd: 250 TON</span>
                </div>
            </div>
            <div class="competition-timer">
                <i class="fas fa-clock"></i>
                <span id="competition-timer">Loading...</span>
            </div>
        </div>
    </div>

    <!-- User Rank Card -->
    <div class="user-rank-card" id="userRankCard">
        <div class="rank-badge">
            <span id="userRank">-</span>
        </div>
        <div class="user-info">
            <div class="user-name" id="userName">Connect Wallet</div>
            <div class="user-refs">
                <i class="fas fa-users"></i>
                <span id="userRefCount">0</span> Referrals
            </div>
        </div>
        <div class="user-earnings">
            <div class="earnings-amount" id="userEarnings">0</div>
            <div class="earnings-label">TON Earned</div>
        </div>
    </div>

    <!-- Leaderboard Tabs -->
    <div class="leaderboard-tabs">
        <button class="tab-btn active" onclick="switchTab('top50')">
            <i class="fas fa-crown"></i> Top 50
        </button>
        <button class="tab-btn" onclick="switchTab('prizes')">
            <i class="fas fa-gift"></i> Prize Pool
        </button>
    </div>

    <!-- Top 50 Leaderboard -->
    <div id="tab-top50" class="tab-content active">
        <div class="podium">
            <div class="podium-item second" id="rank2">
                <div class="podium-medal">ðŸ¥ˆ</div>
                <div class="podium-avatar">2</div>
                <div class="podium-name">---</div>
                <div class="podium-refs">0 refs</div>
                <div class="podium-stand">2</div>
            </div>
            
            <div class="podium-item first" id="rank1">
                <div class="podium-medal">ðŸ¥‡</div>
                <div class="podium-avatar">1</div>
                <div class="podium-name">---</div>
                <div class="podium-refs">0 refs</div>
                <div class="podium-stand">1</div>
            </div>
            
            <div class="podium-item third" id="rank3">
                <div class="podium-medal">ðŸ¥‰</div>
                <div class="podium-avatar">3</div>
                <div class="podium-name">---</div>
                <div class="podium-refs">0 refs</div>
                <div class="podium-stand">3</div>
            </div>
        </div>

        <div class="leaderboard-list" id="leaderboardList">
            <div class="loading-spinner">
                <i class="fas fa-spinner fa-spin fa-2x"></i>
                <p>Loading leaderboard...</p>
            </div>
        </div>
    </div>

    <!-- Prize Pool Tab -->
    <div id="tab-prizes" class="tab-content">
        <div class="prize-pool-container">
            <div class="prize-pool-header">
                <i class="fas fa-trophy fa-3x" style="color: #FFD700;"></i>
                <h2>Total Prize Pool</h2>
                <div class="total-prize">10,000 TON</div>
            </div>

            <div class="prize-tiers">
                <div class="prize-tier gold">
                    <div class="tier-rank">
                        <span class="rank-medal">ðŸ¥‡</span>
                        <span class="rank-text">1st Place</span>
                    </div>
                    <div class="tier-prize">1,000 TON</div>
                </div>

                <div class="prize-tier silver">
                    <div class="tier-rank">
                        <span class="rank-medal">ðŸ¥ˆ</span>
                        <span class="rank-text">2nd Place</span>
                    </div>
                    <div class="tier-prize">500 TON</div>
                </div>

                <div class="prize-tier bronze">
                    <div class="tier-rank">
                        <span class="rank-medal">ðŸ¥‰</span>
                        <span class="rank-text">3rd Place</span>
                    </div>
                    <div class="tier-prize">250 TON</div>
                </div>

                <div class="prize-tier">
                    <div class="tier-rank">
                        <span class="rank-number">4-10</span>
                        <span class="rank-text">Places</span>
                    </div>
                    <div class="tier-prize">100 TON each</div>
                </div>

                <div class="prize-tier">
                    <div class="tier-rank">
                        <span class="rank-number">11-25</span>
                        <span class="rank-text">Places</span>
                    </div>
                    <div class="tier-prize">50 TON each</div>
                </div>

                <div class="prize-tier">
                    <div class="tier-rank">
                        <span class="rank-number">26-50</span>
                        <span class="rank-text">Places</span>
                    </div>
                    <div class="tier-prize">25 TON each</div>
                </div>
            </div>

            <div class="prize-rules">
                <h3><i class="fas fa-info-circle"></i> Competition Rules</h3>
                <ul>
                    <li>Competition runs for 30 days</li>
                    <li>Only verified referrals count (must make at least 1 purchase)</li>
                    <li>Prizes distributed within 48 hours after competition ends</li>
                    <li>Top 50 participants eligible for prizes</li>
                    <li>Fraud attempts result in disqualification</li>
                    <li>Winners announced on official channel</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="nav">
        <div class="nav-item" onclick="goToPage('index.html#dash')"><i class="fas fa-chart-pie"></i></div>
        <div class="nav-item" onclick="goToPage('index.html#market')"><i class="fas fa-shopping-bag"></i></div>
        <div class="nav-item" onclick="goToPage('index.html#inv')"><i class="fas fa-server"></i></div>
        <div class="nav-item" onclick="goToPage('index.html#wallet')"><i class="fas fa-wallet"></i></div>
        <div class="nav-item" onclick="goToPage('index.html#referral')"><i class="fas fa-users"></i></div>
    </div>

    <div id="toast">Message</div>

    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
    <script type="module" src="leaderboard.js"></script>
</body>
</html>
