<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation Test</title>
    <style>
        body { margin: 0; padding: 0; font-family: Arial; }
        .view { display: none; padding: 20px; }
        .view.active { display: block; }
        .nav { display: flex; gap: 10px; padding: 10px; background: #333; }
        .nav-item { 
            padding: 10px 20px; 
            background: #555; 
            color: white; 
            cursor: pointer;
            user-select: none;
        }
        .nav-item.active { background: #0a0; }
        .nav-item i { pointer-events: none; }
    </style>
</head>
<body>
    <div id="v-dash" class="view active">
        <h1>Dashboard</h1>
        <p>This is the dashboard view</p>
    </div>
    
    <div id="v-market" class="view">
        <h1>Market</h1>
        <p>This is the market view</p>
    </div>
    
    <div id="v-inv" class="view">
        <h1>Inventory</h1>
        <p>This is the inventory view</p>
    </div>
    
    <div id="v-wallet" class="view">
        <h1>Wallet</h1>
        <p>This is the wallet view</p>
    </div>
    
    <div id="v-referral" class="view">
        <h1>Referral</h1>
        <p>This is the referral view</p>
    </div>
    
    <div class="nav">
        <div class="nav-item active"><i>ğŸ“Š</i> Dashboard</div>
        <div class="nav-item"><i>ğŸ›’</i> Market</div>
        <div class="nav-item"><i>ğŸ“¦</i> Inventory</div>
        <div class="nav-item"><i>ğŸ’°</i> Wallet</div>
        <div class="nav-item"><i>ğŸ‘¥</i> Referral</div>
    </div>
    
    <script>
        console.log("ğŸš€ Test page loaded");
        
        function go(id, el) {
            console.log(`ğŸ“ go() called: ${id}`);
            
            document.querySelectorAll('.view').forEach(x => x.classList.remove('active'));
            const targetView = document.getElementById('v-'+id);
            
            if (!targetView) {
                console.error(`âŒ View not found: v-${id}`);
                return;
            }
            
            targetView.classList.add('active');
            document.querySelectorAll('.nav-item').forEach(x => x.classList.remove('active'));
            
            if(el) el.classList.add('active');
            
            console.log(`âœ… View changed to: ${id}`);
        }
        
        function setupNav() {
            const navItems = document.querySelectorAll('.nav-item');
            const views = ['dash', 'market', 'inv', 'wallet', 'referral'];
            
            console.log(`ğŸ“Š Found ${navItems.length} nav items`);
            
            navItems.forEach((item, index) => {
                const viewName = views[index];
                console.log(`â• Adding listener for: ${viewName}`);
                
                item.addEventListener('click', function(e) {
                    console.log(`ğŸ–±ï¸ Clicked: ${viewName}`);
                    e.preventDefault();
                    e.stopPropagation();
                    go(viewName, this);
                });
            });
            
            console.log("âœ… Navigation setup complete!");
        }
        
        // DOM ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', setupNav);
        } else {
            setupNav();
        }
    </script>
</body>
</html>
